{"version":3,"sources":["components/map.js","components/minimap.js","components/add.js","App.js","index.js"],"names":["MapComponent","props","state","lat","long","zoom","this","coords","setState","style","height","width","scroll","Map","position","center","TileLayer","url","CircleMarker","React","Component","MiniMapComponent","Add","Fragment","header","mode","separator","size","backgroundColor","top","controlSize","marginTop","color","name","value","description","defaultChecked","App","useState","setCoords","bridge","send","then","res","catch","e","console","log","activeStory","setActiveStory","tabbar","onClick","selected","data-story","text","id","activePanel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d26add1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Map, CircleMarker, TileLayer } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nclass MapComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 55.753960,\r\n            long: 37.620393,\r\n            zoom: 12\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.coords.lat !== 0){\r\n            this.setState({lat: this.props.coords.lat, long: this.props.coords.long, zoom: this.props.coords.zoom})\r\n        }\r\n    }\r\n\r\n    render() {\r\n            return (\r\n                <div style={{ height: \"100%\", width: \"100%\", scroll: \"noscroll\"}}>\r\n                    <Map\r\n                        style={{ height: \"100%\", width: \"100%\", position: 'absolute'}}\r\n                        zoom={this.state.zoom}\r\n                        center={[this.state.lat, this.state.long]}>\r\n                        <TileLayer url=\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                        <CircleMarker\r\n                            center={[this.state.lat, this.state.long]}\r\n                        />\r\n                    </Map>\r\n                </div>\r\n            );\r\n        }\r\n}\r\n\r\nexport default MapComponent;","import React, { Component } from 'react';\r\nimport { Map, CircleMarker, TileLayer } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nclass MiniMapComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 55.753960,\r\n            long: 37.620393,\r\n            zoom: 12\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.coords.lat !== 0){\r\n            this.setState({lat: this.props.coords.lat, long: this.props.coords.long, zoom: this.props.coords.zoom})\r\n        }\r\n    }\r\n\r\n    render() {\r\n            return (\r\n                <div style={{ height: \"200px\", width: \"100%\", scroll: \"noscroll\"}}>\r\n                    <Map\r\n                        style={{ height: \"200px\", width: \"100%\", position: 'absolute'}}\r\n                        zoom={this.state.zoom}\r\n                        center={[this.state.lat, this.state.long]}>\r\n                        <TileLayer url=\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                        <CircleMarker\r\n                            center={[this.state.lat, this.state.long]}\r\n                        />\r\n                    </Map>\r\n                </div>\r\n            );\r\n        }\r\n}\r\n\r\nexport default MiniMapComponent;","import React, { useState, useEffect } from 'react';\r\nimport {CardGrid, Card, Group, FormLayout, Radio, Header, Button, File} from '@vkontakte/vkui';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport Icon36Add from '@vkontakte/icons/dist/36/add';\r\nimport MiniMapComponent from './minimap';\r\nimport App from \"../App\";\r\n\r\nconst Add = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Group header={<Header mode=\"secondary\">Сделайте отметку на карте</Header>}>\r\n                <MiniMapComponent coords={props.coords} height={'400px'}/>\r\n            </Group>\r\n        <Group separator=\"hide\" header={<Header mode=\"secondary\">Добавьте фотографии</Header>}>\r\n            <CardGrid>\r\n                <Card size=\"s\">\r\n                    <div style={{ height: 96 }}>\r\n                        <File style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                            <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                        </File>\r\n                    </div>\r\n                </Card>\r\n                <Card size=\"s\">\r\n                    <div style={{ height: 96 }}>\r\n                        <File style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                            <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                        </File>\r\n                    </div>\r\n                </Card><Card size=\"s\">\r\n                <div style={{ height: 96 }}>\r\n                    <File style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                        <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                    </File>\r\n                </div>\r\n            </Card>\r\n            </CardGrid>\r\n        </Group>\r\n            <Group header={<Header mode=\"secondary\">Укажите тип отметки</Header>}>\r\n                <FormLayout>\r\n                    <div>\r\n                        <Radio name=\"radio\" value=\"1\" description=\"Тренога\" defaultChecked>Передвижная камера</Radio>\r\n                        <Radio name=\"radio\" value=\"2\" description=\"Стационарный\">Пост ДПС</Radio>\r\n                        <Radio name=\"radio\" value=\"3\" description=\"Проверки и спецоперации\">Мобильная группа ДПС</Radio>\r\n                    </div>\r\n                </FormLayout>\r\n            </Group>\r\n            <Group header={<Header mode=\"secondary\">Завершите добавление</Header>}>\r\n                <Button size=\"xl\" mode=\"secondary\">Добавить на карту</Button>\r\n            </Group>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Add;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, Panel, PanelHeader, Epic, Tabbar, TabbarItem, Cell} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport MapComponent from './components/map';\nimport Add from './components/add';\nimport '@vkontakte/vkui/dist/vkui.css';\n\n\nconst App = () => {\n\tconst [coords, setCoords] = useState({lat: 0, long: 0});\n\tbridge.send(\"VKWebAppGetGeodata\", {})\n\t\t.then(res=>{\n\t\t\tsetCoords({lat: res.lat, long: res.long, zoom: 13});\n\t\t})\n\t\t.catch(e=>console.log(e));\n\tconst [activeStory, setActiveStory] = useState(\"map\");\n\t\treturn (\n\t\t\t<Epic activeStory={activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={()=>setActiveStory('map')}\n\t\t\t\t\t\tselected={activeStory === 'map'}\n\t\t\t\t\t\tdata-story=\"map\"\n\t\t\t\t\t\ttext=\"Карта\"\n\t\t\t\t\t><Icon28Search /></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={()=>setActiveStory('add')}\n\t\t\t\t\t\tselected={activeStory === 'add'}\n\t\t\t\t\t\tdata-story=\"add\"\n\t\t\t\t\t\ttext=\"Добавить\"\n\t\t\t\t\t><Icon28AddOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"map\" activePanel=\"map\">\n\t\t\t\t\t<Panel id=\"map\">\n\t\t\t\t\t\t<PanelHeader>Карта</PanelHeader>\n\t\t\t\t\t\t<MapComponent coords={coords}/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"add\" activePanel=\"add\">\n\t\t\t\t\t<Panel id=\"add\">\n\t\t\t\t\t\t<PanelHeader>Добавить</PanelHeader>\n\t\t\t\t\t\t<Add coords={coords}/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n};\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\", {});\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}