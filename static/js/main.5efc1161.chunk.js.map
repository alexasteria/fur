{"version":3,"sources":["components/circle.png","components/map.js","components/minimap.js","components/add.js","panels/panelMap.js","components/markerInfo.js","App.js","index.js","components/dps.png","components/cam.png"],"names":["module","exports","MapComponent","props","state","lat","long","zoom","this","coords","setState","L","require","dps","icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","style","height","width","scroll","Map","zoomControl","position","zIndex","center","TileLayer","url","CircleMarker","Marker","onClick","openModalCard","React","Component","MiniMapComponent","addMarker","e","marker","newMarker","latlng","console","log","dist","getDistanceFromLatLonInKm","lng","leafletElement","openPopup","snackbar","onClose","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","a","Math","sin","cos","atan2","sqrt","deg","PI","cam","type","Tooltip","permanent","Add","useState","photo1","setPhoto1","photo2","setPhoto2","photo3","setPhoto3","setType","handleFileSelect","evt","f","target","files","match","reader","FileReader","onload","result","readAsDataURL","Fragment","header","mode","separator","size","backgroundPosition","backgroundSize","backgroundImage","onChange","event","backgroundColor","top","controlSize","marginTop","color","textAlign","name","value","description","defaultChecked","PanelMap","geoStatus","setGeoStatus","zero","one","two","three","four","filter","setFilter","support","openSupport","circle","id","left","transform","opened","before","padding","src","asideContent","fill","newFilter","multiline","MarkerInfo","setModalPage","activeTab","useEffect","caption","after","display","stretched","marginRight","auth","params","fetch","method","cache","credentials","headers","redirect","referrer","body","JSON","stringify","then","res","json","data","catch","App","launchParams","setLaunchParams","undefined","sign","testParams","vk_user_id","vk_ref","vk_platform","vk_language","vk_is_favorite","vk_is_app_user","vk_are_notifications_enabled","vk_app_id","vk_access_token_settings","bridge","send","error_reason","setInterval","repeatGeo","setCoords","modalPage","activeStory","setActiveStory","setSnackbar","modalCard","activeModal","maxHeight","overflow","tabbar","selected","data-story","text","activePanel","modal","content","window","location","search","replace","split","reduce","p","decodeURIComponent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5efc1161.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/circle.f55eff56.png\";","import React, { Component } from 'react';\r\nimport {Map, CircleMarker, TileLayer, Marker, Popup} from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport {\r\n    Button\r\n} from '@vkontakte/vkui';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nclass MapComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 55.753960,\r\n            long: 37.620393,\r\n            zoom: 12\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.coords.lat !== 0){\r\n            this.setState({lat: this.props.coords.lat, long: this.props.coords.long, zoom: this.props.coords.zoom})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const L = require('leaflet');\r\n\r\n        const dps = L.icon({\r\n            iconUrl: require('./dps.png'),\r\n            iconSize: [64,55],\r\n            iconAnchor: [32, 64],\r\n            popupAnchor: null,\r\n            shadowUrl: null,\r\n            shadowSize: null,\r\n            shadowAnchor: null\r\n        });\r\n\r\n        const cam = L.icon({\r\n            iconUrl: require('./cam.png'),\r\n            iconSize: [64,55],\r\n            iconAnchor: [32, 64],\r\n            popupAnchor: null,\r\n            shadowUrl: null,\r\n            shadowSize: null,\r\n            shadowAnchor: null\r\n        });\r\n            return (\r\n                <div style={{ height: \"100%\", width: \"100%\", scroll: \"noscroll\"}}>\r\n                    <Map\r\n                        zoomControl={false}\r\n                        style={{ height: \"100%\", width: \"100%\", position: 'absolute', zIndex: 1}}\r\n                        zoom={this.state.zoom}\r\n                        center={[this.props.coords.lat !== 0 ? this.props.coords.lat : this.state.lat, this.props.coords.long !==0 ? this.props.coords.long : this.state.long]}>\r\n                        <TileLayer url=\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                        <CircleMarker\r\n                            center={[this.props.coords.lat !== 0 ? this.props.coords.lat : this.state.lat, this.props.coords.long !==0 ? this.props.coords.long : this.state.long]}\r\n                        />\r\n                        <Marker\r\n                            onClick={this.props.openModalCard}\r\n                            icon={dps}\r\n                            position={[56.237361899999996,43.4565182]}\r\n                        />\r\n                    </Map>\r\n                </div>\r\n            );\r\n        }\r\n}\r\n\r\nexport default MapComponent;","import React, { Component } from 'react';\r\nimport { Map, CircleMarker, TileLayer, Tooltip, Marker, Popup } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Snackbar} from \"@vkontakte/vkui\";\r\n\r\nclass MiniMapComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 55.753960,\r\n            long: 37.620393,\r\n            zoom: 12,\r\n            marker: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.coords.lat !== 0){\r\n            this.setState({lat: this.props.coords.lat, long: this.props.coords.long, zoom: this.props.coords.zoom})\r\n        }\r\n    }\r\n\r\n    getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\r\n        let R = 6371; // Radius of the earth in km\r\n        let dLat = this.deg2rad(lat2-lat1);  // deg2rad below\r\n        let dLon = this.deg2rad(lon2-lon1);\r\n        let a =\r\n            Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n            Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *\r\n            Math.sin(dLon/2) * Math.sin(dLon/2)\r\n        ;\r\n        let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n        let d = R * c; // Distance in km\r\n        return d;\r\n    }\r\n\r\n    deg2rad(deg) {\r\n        return deg * (Math.PI/180)\r\n    }\r\n\r\n    addMarker = (e, marker) => {\r\n        const newMarker = e.latlng;\r\n        console.log(newMarker);\r\n        const dist = this.getDistanceFromLatLonInKm(this.state.lat, this.state.long, newMarker.lat, newMarker.lng);\r\n        console.log(dist)\r\n        if (dist < 1){\r\n            this.setState({marker: newMarker})\r\n            if (marker && marker.leafletElement) {\r\n                marker.leafletElement.openPopup()\r\n            }\r\n        } else {\r\n            this.setState({marker: null})\r\n            this.props.snackbar(<Snackbar\r\n                onClose={() => this.props.snackbar(null)}\r\n            >\r\n                Расстояние от Вас до точки более 1 километра. Нельзя ставить точки так далеко.\r\n            </Snackbar>)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const L = require('leaflet');\r\n\r\n        const dps = L.icon({\r\n            iconUrl: require('./dps.png'),\r\n            iconSize: [64,55],\r\n            iconAnchor: [32, 64],\r\n            popupAnchor: null,\r\n            shadowUrl: null,\r\n            shadowSize: null,\r\n            shadowAnchor: null\r\n        });\r\n\r\n        const cam = L.icon({\r\n            iconUrl: require('./cam.png'),\r\n            iconSize: [64,55],\r\n            iconAnchor: [32, 64],\r\n            popupAnchor: null,\r\n            shadowUrl: null,\r\n            shadowSize: null,\r\n            shadowAnchor: null\r\n        });\r\n            return (\r\n                <div style={{ height: \"200px\", width: \"100%\", scroll: \"noscroll\"}}>\r\n                    <Map\r\n                        zoomControl={false}\r\n                        onClick={this.addMarker}\r\n                        style={{ height: \"200px\", width: \"100%\", position: 'absolute'}}\r\n                        zoom={this.state.zoom}\r\n                        center={[this.state.lat, this.state.long]}>\r\n                        <TileLayer url=\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                        <CircleMarker\r\n                            center={[this.props.coords.lat !== 0 ? this.props.coords.lat : this.state.lat, this.props.coords.long !==0 ? this.props.coords.long : this.state.long]}\r\n                        />\r\n                        {\r\n                            this.state.marker !== null &&\r\n                            <Marker\r\n                                icon={this.props.type === 'dps' ? dps : cam}\r\n                                position={this.state.marker}\r\n                            >\r\n                                <Tooltip permanent>\r\n                                    <span>Здесь</span>\r\n                                </Tooltip>\r\n                            </Marker>\r\n                        }\r\n                    </Map>\r\n                </div>\r\n            );\r\n        }\r\n}\r\n\r\nexport default MiniMapComponent;","import React, { useState, useEffect } from 'react';\r\nimport {CardGrid, Card, Group, FormLayout, Radio, Header, Button, File} from '@vkontakte/vkui';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport Icon36Add from '@vkontakte/icons/dist/36/add';\r\nimport MiniMapComponent from './minimap';\r\nimport App from \"../App\";\r\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\r\n\r\nconst Add = (props) => {\r\n    const [photo1, setPhoto1] = useState(null);\r\n    const [photo2, setPhoto2] = useState(null);\r\n    const [photo3, setPhoto3] = useState(null);\r\n    const [type, setType] = useState(null);\r\n    function handleFileSelect(evt) {\r\n        let file = evt.target.files; // FileList object\r\n        let f = file[0];\r\n        // Only process image files.\r\n        if (!f.type.match('image.*')) {\r\n            console.log(\"Image only please....\");\r\n        }\r\n        let reader = new FileReader();\r\n        // Closure to capture the file information.\r\n        reader.onload = ((theFile) => {\r\n            return function(e) {\r\n                if (photo1 === null){\r\n                    setPhoto1('url('+e.target.result +')');\r\n                } else if (photo2 === null){\r\n                    setPhoto2('url('+e.target.result +')');\r\n                } else if (photo3 === null){\r\n                    setPhoto3('url('+e.target.result +')');\r\n                }\r\n            };\r\n        })(f);\r\n        // Read in the image file as a data URL.\r\n        reader.readAsDataURL(f);\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <Group header={<Header mode=\"secondary\">Сделайте отметку на карте</Header>}>\r\n                <MiniMapComponent type={type} snackbar={props.snackbar} coords={props.coords} height={'400px'}/>\r\n            </Group>\r\n        <Group separator=\"hide\" header={<Header mode=\"secondary\">Добавьте фотографии</Header>}>\r\n            <CardGrid>\r\n                <Card size=\"s\" mode=\"shadow\">\r\n                    <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: photo1}}>\r\n                        {\r\n                            photo1 === null &&\r\n                            <File onChange={(event)=>handleFileSelect(event)} style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                                <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                            </File>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        photo1 !== null &&\r\n                        <div style={{color: 'red', textAlign: 'center'}} onClick={()=>setPhoto1(null)}>Удалить</div>\r\n                    }\r\n                </Card>\r\n                <Card size=\"s\" mode=\"shadow\">\r\n                    <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: photo2}}>\r\n                        {\r\n                            photo2 === null &&\r\n                            <File onChange={(event)=>handleFileSelect(event)} style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                                <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                            </File>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        photo2 !== null &&\r\n                        <div style={{color: 'red', textAlign: 'center'}} onClick={()=>setPhoto2(null)}>Удалить</div>\r\n                    }\r\n                </Card>\r\n                <Card size=\"s\" mode=\"shadow\">\r\n                <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: photo3}}>\r\n                    {\r\n                        photo3 === null &&\r\n                        <File onChange={(event)=>handleFileSelect(event)} style={{height: '100%', width: '100%', backgroundColor: \"#00ffff00\"}} top=\"\" controlSize=\"xl\">\r\n                            <Icon36Add style={{marginTop: '19px', color: \"#9ec1ea\"}}/>\r\n                        </File>\r\n                    }\r\n                </div>\r\n                    {\r\n                        photo3 !== null &&\r\n                        <div style={{color: 'red', textAlign: 'center'}} onClick={()=>setPhoto3(null)}>Удалить</div>\r\n                    }\r\n            </Card>\r\n            </CardGrid>\r\n        </Group>\r\n            <Group header={<Header mode=\"secondary\">Укажите тип отметки</Header>}>\r\n                <FormLayout>\r\n                    <div>\r\n                        <Radio onClick={()=>setType('cam')} name=\"radio\" value=\"cam\" description=\"Тренога\" defaultChecked>Передвижная камера</Radio>\r\n                        {/*<Radio name=\"radio\" value=\"2\" description=\"Стационарный\">Пост ДПС</Radio>*/}\r\n                        <Radio onClick={()=>setType('dps')} name=\"radio\" value=\"dps\" description=\"Проверки и спецоперации\">Мобильная группа ДПС</Radio>\r\n                    </div>\r\n                </FormLayout>\r\n            </Group>\r\n            <Group header={<Header mode=\"secondary\">Завершите добавление</Header>}>\r\n                <Button size=\"xl\" mode=\"secondary\">Добавить на карту</Button>\r\n            </Group>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Add;","import {\r\n    Cell,\r\n    List,\r\n    ModalCard,\r\n    ModalRoot,\r\n    Panel,\r\n    PanelHeader,\r\n    PanelHeaderButton,\r\n    PanelHeaderContext\r\n} from \"@vkontakte/vkui\";\r\nimport Icon28ChevronDownOutline from '@vkontakte/icons/dist/28/chevron_down_outline';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport MapComponent from \"../components/map\";\r\nimport React, {useState} from \"react\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst PanelMap = (props) => {\r\n    const geoStatus = props.geoStatus;\r\n    const setGeoStatus = props.setGeoStatus;\r\n    const coords = props.coords;\r\n    const [filter, setFilter] = useState({zero: true,one: true,two: true,three: true,four: true});\r\n    const [support, openSupport] = useState(false);\r\n    const dps = require('../components/dps.png');\r\n    const cam = require('../components/cam.png');\r\n    const circle = require('../components/circle.png');\r\n    return (\r\n        <Panel id=\"map\">\r\n            <PanelHeader\r\n                left={<PanelHeaderButton onClick={()=>openSupport(!support)}>\r\n                    <Icon28ChevronDownOutline\r\n                        style={{ transform: `rotate(${support ? '180deg' : '0'})` }}\r\n                        onClick={()=>openSupport(!support)}\r\n                    />\r\n                </PanelHeaderButton>}\r\n            >\r\n                Карта\r\n            </PanelHeader>\r\n            <PanelHeaderContext style={{zIndex: 10}} opened={support} onClose={()=>openSupport(!support)}>\r\n                <List>\r\n                    <Cell\r\n                        before={<img style={{height: 45, padding: '0 10px 0 10px'}} src={circle} />}\r\n                    >Вы здесь</Cell>\r\n                    {/*<Cell*/}\r\n                    {/*\tbefore={'*marker*'}*/}\r\n                    {/*\tasideContent={filter.zero === true ? <Icon24Done fill=\"var(--accent)\" /> : null}*/}\r\n                    {/*\tonClick={*/}\r\n                    {/*\t\t()=>{*/}\r\n                    {/*\t\t\tconsole.log(filter);*/}\r\n                    {/*\t\t\tfilter.zero=!filter.zero;*/}\r\n                    {/*\t\t\tsetFilter(filter);*/}\r\n                    {/*\t\t}*/}\r\n                    {/*\t}*/}\r\n                    {/*>Посты ДПС</Cell>*/}\r\n                    {/*<Cell*/}\r\n                    {/*\tbefore={'*marker*'}*/}\r\n                    {/*\tasideContent={filter.one === true ? <Icon24Done fill=\"var(--accent)\" /> : null}*/}\r\n                    {/*\tonClick={*/}\r\n                    {/*\t\t()=>{*/}\r\n                    {/*\t\t\tlet newFilter = filter;*/}\r\n                    {/*\t\t\tnewFilter.one=!filter.one;*/}\r\n                    {/*\t\t\tsetFilter(newFilter);*/}\r\n                    {/*\t\t}*/}\r\n                    {/*\t}*/}\r\n                    {/*>Стационарные камеры</Cell>*/}\r\n                    <Cell\r\n                        description={'Треноги'}\r\n                        before={<img style={{height: 45, padding: '0 17px 0 17px'}} src={cam} />}\r\n                        asideContent={filter.two === true ? <Icon24Done fill=\"var(--accent)\" /> : null}\r\n                        onClick={\r\n                            ()=>{\r\n                                let newFilter = filter;\r\n                                newFilter.two=!filter.two;\r\n                                setFilter(newFilter);\r\n                            }\r\n                        }\r\n                    >Передвижные камеры</Cell>\r\n                    <Cell\r\n                        description={'Дежурные экипажи'}\r\n                        before={<img style={{height: 45}} src={dps} />}\r\n                        asideContent={filter.three === true ? <Icon24Done fill=\"var(--accent)\" /> : null}\r\n                        onClick={\r\n                            ()=>{\r\n                                let newFilter = filter;\r\n                                newFilter.three=!filter.three;\r\n                                setFilter(newFilter);\r\n                            }\r\n                        }\r\n                    >Мобильная группа ДПС</Cell>\r\n                </List>\r\n            </PanelHeaderContext>\r\n            {\r\n                geoStatus === false &&\r\n                <Cell style={{zIndex: 5}} onClick={()=>setGeoStatus(null)} multiline>Вы не дали доступ в геопозиции, для более удобной навигации нажмите сюда</Cell>\r\n            }\r\n            <MapComponent\r\n                coords={coords}\r\n                openModalCard={props.openModalCard}\r\n            />\r\n        </Panel>\r\n    )\r\n};\r\n\r\nexport default PanelMap;","import {\r\n    Avatar,\r\n    Button,\r\n    Card,\r\n    CardGrid,\r\n    Counter,\r\n    Div,\r\n    FormLayout,\r\n    RichCell,\r\n    Tabs,\r\n    TabsItem,\r\n    Textarea\r\n} from \"@vkontakte/vkui\";\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\nconst MarkerInfo = (props) => {\r\n    const setModalPage = props.setModalPage;\r\n    const [activeTab, setActiveTab] = useState('info');\r\n    useEffect(()=>{\r\n        console.log(activeTab)\r\n    });\r\n    return (\r\n        <React.Fragment>\r\n            <Div>Последняя отметка:</Div>\r\n            <RichCell\r\n                before={<Avatar size={48} src={'https://sun1-19.userapi.com/icUGHkpxSwBNk4bwJSeVnoEEGC_iGmLBAryD1w/DH9wm4lg9mU.jpg'} />}\r\n                caption=\"7 минут назад\"\r\n                after=\"+1\"\r\n            >\r\n                Василий Лисовский\r\n            </RichCell>\r\n            <CardGrid>\r\n                <Card size=\"s\" mode=\"shadow\">\r\n                    <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: 'url(\"https://ib.drivenn.ru/bvpysv355088z_oc1hsy.jpeg\")'}}/>\r\n                </Card>\r\n                <Card size=\"s\" mode=\"shadow\">\r\n                    <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: 'url(\"https://ib.drivenn.ru/bvpysv355088z_oc1hsy.jpeg\")'}}/>\r\n                </Card><Card size=\"s\" mode=\"shadow\">\r\n                <div style={{ height: 96, backgroundPosition: 'center', backgroundSize: 'cover', backgroundImage: 'url(\"https://ib.drivenn.ru/bvpysv355088z_oc1hsy.jpeg\")'}}/>\r\n            </Card>\r\n            </CardGrid>\r\n            <Div style={{display: 'flex'}}>\r\n                <Button\r\n                    size=\"l\"\r\n                    stretched\r\n                    mode=\"primary\"\r\n                    style={{ marginRight: 8 }}\r\n                    onClick={() => {\r\n                        console.log(1);\r\n                        setModalPage(null);\r\n                    }}\r\n                    after={<Counter>0</Counter>}\r\n                >На месте</Button>\r\n                <Button\r\n                    size=\"l\"\r\n                    stretched\r\n                    mode=\"secondary\"\r\n                    onClick={() => {\r\n                        console.log(2);\r\n                        setModalPage(null);\r\n                    }}\r\n                    after={<Counter>0</Counter>}\r\n                >Уехали</Button>\r\n            </Div>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default MarkerInfo;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {\n\tView,\n\tPanel,\n\tPanelHeader,\n\tEpic,\n\tTabbar,\n\tTabbarItem,\n\tButton,\n\tDiv,\n\tList,\n\tCounter,\n\tModalRoot,\n\tModalCard, RichCell, Avatar, Card, File, CardGrid, Tabs, TabsItem, ModalPage\n} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport MapComponent from './components/map';\nimport Add from './components/add';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport PanelMap from './panels/panelMap';\nimport MarkerInfo from './components/markerInfo';\nimport Icon24CommentOutline from '@vkontakte/icons/dist/24/comment_outline';\n\nconst auth = (params) => {\n\tfetch('http://localhost:3030/users/auth', {\n\t\tmethod: 'POST',\n\t\tmode: 'cors',\n\t\tcache: 'no-cache',\n\t\tcredentials: 'same-origin',\n\t\theaders: {'Content-Type': 'application/json'},\n\t\tredirect: 'follow',\n\t\treferrer: 'no-referrer',\n\t\tbody: JSON.stringify(params)\n\t})\n\t\t.then(res => res.json())\n\t\t.then(data=>{\n\t\t\tconsole.log(data)\n\t\t})\n\t\t.catch(e=>{\n\t\t\tconsole.log(e)\n\t\t})\n};\n\nconst App = (props) => {\n\tconst [launchParams, setLaunchParams] = useState(null);\n\tuseEffect(()=> {\n\t\tif (props.launchParams.sign !== undefined) {\n\t\t\tsetLaunchParams(props.launchParams);\n\t\t\tconsole.log('Параметры пришли');\n\t\t\tauth(props.launchParams);\n\t\t} else {\n\t\t\t// this.setState({validLaunchParams: false});\n\t\t\t// this.openSnack('Ошибка. Не переданы параметры запуска.');\n\t\t\tconsole.log('Параметры не пришли');\n\t\t\tconst testParams = {\n\t\t\t\tvk_user_id: \"199500866\",\n\t\t\t\tvk_ref: \"other\",\n\t\t\t\tvk_platform: \"mobile_web\",\n\t\t\t\tvk_language: \"ru\",\n\t\t\t\tvk_is_favorite: \"0\",\n\t\t\t\tvk_is_app_user: \"1\",\n\t\t\t\tvk_are_notifications_enabled: \"0\",\n\t\t\t\tvk_app_id: \"7538246\",\n\t\t\t\tvk_access_token_settings: \"notify\",\n\t\t\t\tsign: \"f8_2b177I52XCPrzq4WyrkHBJ6tAoQeGmaWtVxbsEZI\"\n\t\t\t};\n\t\t\tsetLaunchParams(testParams);\n\t\t\tauth(testParams);\n\t\t}\n\t}, []);\n\tconst [geoStatus, setGeoStatus] = useState(null);\n\tif (geoStatus === null){\n\t\tbridge.send(\"VKWebAppGetGeodata\", {})\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.error_reason === 'User denied'){\n\t\t\t\t\tsetGeoStatus(false)\n\t\t\t\t} else {\n\t\t\t\t\tsetGeoStatus(true)\n\t\t\t\t\tsetInterval(repeatGeo, 10000);\n\t\t\t\t\tsetCoords({lat: res.lat, long: res.long, zoom: 13})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e=>console.log(e));\n\t}\n\tconst repeatGeo = () => {\n\t\tbridge.send(\"VKWebAppGetGeodata\", {})\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.error_reason === 'User denied'){\n\t\t\t\t\tsetGeoStatus(false)\n\t\t\t\t} else {\n\t\t\t\t\tsetGeoStatus(true)\n\t\t\t\t\tsetCoords({lat: res.lat, long: res.long, zoom: 13})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e=>console.log(e))\n\t};\n\tconst [coords, setCoords] = useState({lat: 0, long: 0});\n\tconst [modalPage, setModalPage] = useState(null);\n\tconst [activeStory, setActiveStory] = useState(\"map\");\n\tconst [snackbar, setSnackbar] = useState(null);\n\tlet modalCard = (\n\t\t<ModalRoot activeModal={'marker'} style={{maxHeight: '500px', overflow: 'scroll'}}>\n\t\t\t<ModalCard\n\t\t\t\tid={'marker'}\n\t\t\t\tonClose={() => setModalPage(null)}\n\t\t\t\t//icon={<Icon56MoneyTransferOutline />}\n\t\t\t\theader=\"Мобильная группа ДПС\"\n\t\t\t\tcaption={\n\t\t\t\t\t<MarkerInfo setModalPage={setModalPage} />\n\t\t\t\t}\n\t\t\t>\n\t\t\t</ModalCard>\n\t\t</ModalRoot>\n\t);\n\t\t\tif (launchParams === null){\n\t\t\t\treturn (\n\t\t\t\t\t<div>no launch params</div>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<Epic activeStory={activeStory} tabbar={\n\t\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={()=>setActiveStory('map')}\n\t\t\t\t\t\t\t\tselected={activeStory === 'map'}\n\t\t\t\t\t\t\t\tdata-story=\"map\"\n\t\t\t\t\t\t\t\ttext=\"Карта\"\n\t\t\t\t\t\t\t><Icon28Search /></TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={()=>setActiveStory('add')}\n\t\t\t\t\t\t\t\tselected={activeStory === 'add'}\n\t\t\t\t\t\t\t\tdata-story=\"add\"\n\t\t\t\t\t\t\t\ttext=\"Добавить\"\n\t\t\t\t\t\t\t><Icon28AddOutline /></TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={()=>setActiveStory('chat')}\n\t\t\t\t\t\t\t\tselected={activeStory === 'chat'}\n\t\t\t\t\t\t\t\tdata-story=\"chat\"\n\t\t\t\t\t\t\t\ttext=\"Чатик\"\n\t\t\t\t\t\t\t><Icon24CommentOutline /></TabbarItem>\n\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t}>\n\t\t\t\t\t\t<View id=\"map\" activePanel=\"map\" modal={modalPage}>\n\t\t\t\t\t\t\t<PanelMap\n\t\t\t\t\t\t\t\tid=\"map\"\n\t\t\t\t\t\t\t\tcoords={coords}\n\t\t\t\t\t\t\t\tgeoStatus={geoStatus}\n\t\t\t\t\t\t\t\tsetGeoStatus={setGeoStatus}\n\t\t\t\t\t\t\t\topenModalCard={()=>setModalPage(modalCard)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View id=\"add\" activePanel=\"add\">\n\t\t\t\t\t\t\t<Panel id=\"add\">\n\t\t\t\t\t\t\t\t<PanelHeader>Добавить</PanelHeader>\n\t\t\t\t\t\t\t\t<Add coords={coords} snackbar={(content)=>setSnackbar(content)}/>\n\t\t\t\t\t\t\t\t{snackbar}\n\t\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View id=\"chat\" activePanel=\"chat\">\n\t\t\t\t\t\t\t<Panel id=\"chat\">\n\t\t\t\t\t\t\t\t<PanelHeader>Чатик</PanelHeader>\n\t\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</Epic>\n\t\t\t\t)\n\t\t\t}\n};\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\", {});\n\nlet params = window\n    .location\n    .search\n    .replace('?','')\n    .split('&')\n    .reduce(\n        function(p,e){\n          let a = e.split('=');\n          p[ decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n          return p;\n        },\n        {}\n    );\n\n\nReactDOM.render(<App launchParams={params} />, document.getElementById(\"root\"));\n// if (process.env.NODE_ENV === \"development\") {\n//   import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n// }\n","module.exports = __webpack_public_path__ + \"static/media/dps.24d8e3ce.png\";","module.exports = __webpack_public_path__ + \"static/media/cam.57bb3ebd.png\";"],"sourceRoot":""}