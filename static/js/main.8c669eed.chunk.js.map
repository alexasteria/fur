{"version":3,"sources":["components/map.js","components/add.js","App.js","index.js"],"names":["MapComponent","props","state","lat","lng","console","log","this","coords","style","height","width","err","Map","position","zoom","center","long","TileLayer","url","CircleMarker","React","Component","Add","Fragment","separator","size","name","value","description","defaultChecked","header","mode","before","App","useState","setCoords","bridge","send","then","res","catch","e","activeStory","setActiveStory","tabbar","onClick","selected","data-story","text","id","activePanel","ReactDOM","render","document","getElementById"],"mappings":"6kBAoCeA,G,yDA9BX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,IAAK,WACLC,IAAK,YAJM,E,gEASfC,QAAQC,IAAIC,KAAKN,MAAMO,U,+BAIvB,OACI,yBAAKC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,SACjC,6BAAMJ,KAAKL,MAAMC,IAAMI,KAAKL,MAAMU,KAAO,2DACzC,kBAACC,EAAA,EAAD,CACIJ,MAAO,CAAEC,OAAQ,OAAQC,MAAO,OAAQG,SAAU,YAClDC,KAAM,GACNC,OAAQ,CAACT,KAAKN,MAAMO,OAAOL,KAAOI,KAAKL,MAAMC,IAAMI,KAAKN,MAAMO,OAAOS,MAAQV,KAAKL,MAAME,MACxF,kBAACc,EAAA,EAAD,CAAWC,IAAI,sDACf,kBAACC,EAAA,EAAD,CACIJ,OAAQ,CAACT,KAAKN,MAAMO,OAAOL,KAAOI,KAAKL,MAAMC,IAAMI,KAAKN,MAAMO,OAAOS,MAAQV,KAAKL,MAAME,a,GAvBrFiB,IAAMC,Y,kBC8BlBC,EA9BH,WACR,OACI,kBAAC,IAAMC,SAAP,KACA,kBAAC,IAAD,CAAOC,UAAU,QACb,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMC,KAAK,KACP,yBAAKjB,MAAO,CAAEC,OAAQ,OAE1B,kBAAC,IAAD,CAAMgB,KAAK,KACP,yBAAKjB,MAAO,CAAEC,OAAQ,OAE1B,kBAAC,IAAD,CAAMgB,KAAK,KACP,yBAAKjB,MAAO,CAAEC,OAAQ,SAI9B,kBAAC,IAAD,KACI,6BACI,kBAAC,IAAD,CAAOiB,KAAK,QAAQC,MAAM,IAAIC,YAAY,6CAAUC,gBAAc,GAAlE,2GACA,kBAAC,IAAD,CAAOH,KAAK,QAAQC,MAAM,IAAIC,YAAY,4EAA1C,+CACA,kBAAC,IAAD,CAAOF,KAAK,QAAQC,MAAM,IAAIC,YAAY,oIAA1C,oHAGR,kBAAC,IAAD,CAAOE,OAAQ,kBAAC,IAAD,CAAQC,KAAK,aAAb,wHACX,kBAAC,IAAD,CAAYC,OAAQ,kBAAC,IAAD,OAApB,mGC6BDC,EA/CH,WAAO,IAAD,EACWC,mBAAS,CAAChC,IAAK,EAAGc,KAAM,IADnC,mBACVT,EADU,KACF4B,EADE,KAEjBC,IAAOC,KAAK,qBAAsB,IAChCC,MAAK,SAAAC,GACLJ,EAAU,CAACjC,IAAKqC,EAAIrC,IAAKc,KAAMuB,EAAIvB,UAEnCwB,OAAM,SAAAC,GAAC,OAAErC,QAAQC,IAAIoC,MANN,MAOqBP,mBAAS,OAP9B,mBAOVQ,EAPU,KAOGC,EAPH,KAQjB,OAAmB,IAAfpC,EAAOL,IAET,kBAAC,IAAD,sJAIA,kBAAC,IAAD,CAAMwC,YAAaA,EAAaE,OAC/B,kBAAC,IAAD,KACC,kBAAC,IAAD,CACCC,QAAS,kBAAIF,EAAe,QAC5BG,SAA0B,QAAhBJ,EACVK,aAAW,MACXC,KAAK,kCACL,kBAAC,IAAD,OACD,kBAAC,IAAD,CACCH,QAAS,kBAAIF,EAAe,QAC5BG,SAA0B,QAAhBJ,EACVK,aAAW,MACXC,KAAK,oDACL,kBAAC,IAAD,SAGF,kBAAC,IAAD,CAAMC,GAAG,MAAMC,YAAY,OAC1B,kBAAC,IAAD,CAAOD,GAAG,OACT,kBAAC,IAAD,uCACA,kBAAC,EAAD,CAAc1C,OAAQA,MAGxB,kBAAC,IAAD,CAAM0C,GAAG,MAAMC,YAAY,OAC1B,kBAAC,IAAD,CAAOD,GAAG,OACT,kBAAC,IAAD,yDACA,kBAAC,EAAD,UC1CNb,IAAOC,KAAK,eAAgB,IAE5Bc,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.8c669eed.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Map, CircleMarker, TileLayer } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nclass MapComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 56.2558114,\r\n            lng: 43.3155113\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.coords)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ height: \"100%\", width: \"100%\" }}>\r\n                <div>{this.state.lat + this.state.err && 'Нет ошибки'}</div>\r\n                <Map\r\n                    style={{ height: \"100%\", width: \"100%\", position: 'absolute'}}\r\n                    zoom={12}\r\n                    center={[this.props.coords.lat && this.state.lat , this.props.coords.long && this.state.lng]}>\r\n                    <TileLayer url=\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n                    <CircleMarker\r\n                        center={[this.props.coords.lat && this.state.lat , this.props.coords.long && this.state.lng]}\r\n                    />\r\n                </Map>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapComponent;","import React, { useState, useEffect } from 'react';\r\nimport {CardGrid, Card, Group, FormLayout, Radio, Header, CellButton} from '@vkontakte/vkui';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport App from \"../App\";\r\n\r\nconst Add = () => {\r\n    return (\r\n        <React.Fragment>\r\n        <Group separator=\"hide\">\r\n            <CardGrid>\r\n                <Card size=\"s\">\r\n                    <div style={{ height: 96 }} />\r\n                </Card>\r\n                <Card size=\"s\">\r\n                    <div style={{ height: 96 }} />\r\n                </Card>\r\n                <Card size=\"s\">\r\n                    <div style={{ height: 96 }} />\r\n                </Card>\r\n            </CardGrid>\r\n        </Group>\r\n            <FormLayout>\r\n                <div>\r\n                    <Radio name=\"radio\" value=\"1\" description=\"Тренога\" defaultChecked>Передвижная камера</Radio>\r\n                    <Radio name=\"radio\" value=\"2\" description=\"Стационарный\">Пост ДПС</Radio>\r\n                    <Radio name=\"radio\" value=\"3\" description=\"Проверки и спецоперации\">Мобильная группа ДПС</Radio>\r\n                </div>\r\n            </FormLayout>\r\n            <Group header={<Header mode=\"secondary\">Завершите добавление</Header>}>\r\n                <CellButton before={<Icon24Add />}>Добавить на карту</CellButton>\r\n            </Group>\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Add;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, Panel, PanelHeader, Epic, Tabbar, TabbarItem, Cell} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport MapComponent from './components/map';\nimport Add from './components/add';\nimport '@vkontakte/vkui/dist/vkui.css';\n\n\nconst App = () => {\n\tconst [coords, setCoords] = useState({lat: 0, long: 0});\n\tbridge.send(\"VKWebAppGetGeodata\", {})\n\t\t.then(res=>{\n\t\t\tsetCoords({lat: res.lat, long: res.long});\n\t\t})\n\t\t.catch(e=>console.log(e));\n\tconst [activeStory, setActiveStory] = useState(\"map\");\n\tif (coords.lat === 0) {\n\t\treturn (\n\t\t\t<Cell>Геолокация еще не получена</Cell>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<Epic activeStory={activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={()=>setActiveStory('map')}\n\t\t\t\t\t\tselected={activeStory === 'map'}\n\t\t\t\t\t\tdata-story=\"map\"\n\t\t\t\t\t\ttext=\"Карта\"\n\t\t\t\t\t><Icon28Search /></TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={()=>setActiveStory('add')}\n\t\t\t\t\t\tselected={activeStory === 'add'}\n\t\t\t\t\t\tdata-story=\"add\"\n\t\t\t\t\t\ttext=\"Добавить\"\n\t\t\t\t\t><Icon28AddOutline /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"map\" activePanel=\"map\">\n\t\t\t\t\t<Panel id=\"map\">\n\t\t\t\t\t\t<PanelHeader>Карта</PanelHeader>\n\t\t\t\t\t\t<MapComponent coords={coords}/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t\t<View id=\"add\" activePanel=\"add\">\n\t\t\t\t\t<Panel id=\"add\">\n\t\t\t\t\t\t<PanelHeader>Добавить</PanelHeader>\n\t\t\t\t\t\t<Add/>\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t);\n\t}\n};\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\", {});\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}